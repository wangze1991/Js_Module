<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>遍历</title>
    <script src="../../../widget/code/jquery.citys.js"></script>
</head>
<body>


<script>
    /**
     * reference https://segmentfault.com/a/1190000008954436
     **/

    var source = [{
        id: 1,
        name: '1',
        children: [
            {
                id: 2,
                name: '2',
                children: [{
                    id: 7,
                    name: '7',
                    children:'7'
                   }

                ]
            },
            {
                id: 3,
                name: '3',
                children: '3'
            }
        ]
    }, {
            id: 4,
            name: '4',
            children: [
                {
                    id: 5,
                    name: '5',
                    children: '5'
                },
                {
                    id: 6,
                    name: '6',
                    children: [
                        {
                            id: 8,
                            name: '8',
                            children: [{
                                id: 9,
                                name: '9',
                                children:'9'
                            }

                            ]
                        }
                    ]
                }
            ]
        }
    ];

    traverse2(source);



    /**
     * 深度遍历
     * @param value
     */
    function traverse1(value) {
       var stack=[];

       for(var i=0,max=value.length;i<max;i++){
           stack.push(value[i]);
       }

       var item;
       while (stack.length>0){
           item=stack.shift();
           console.log(item);
           if(typeof item.children!=='string'){
                 stack=item.children.concat(stack);
           }
       }

    }
    /**
     * 广度遍历
     * @param value
     */
    function traverse2(value) {
        var stack=[];

        for(var i=0,max=value.length;i<max;i++){
            stack.push(value[i]);
        }

        var item;
        while (stack.length>0){
            item=stack.shift();
            console.log(item);
            if(typeof item.children!=='string'){
                stack=stack.concat(item.children);
                //stack.push(item.children);
            }
        }



    }


    /**
     * 递归查询
     * @param value
     */
    function traverse3(value) {
        showInfo(value);
        function  showInfo(v) {
            for(var i=0,max=v.length;i<max;i++){
                console.log(v[i]);
                var children=v[i].children;
                if(typeof children!=='string'){
                    showInfo(children);
                }
            }

        }
    }

</script>

</body>
</html>